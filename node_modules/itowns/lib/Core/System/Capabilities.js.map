{"version":3,"sources":["../../../src/Core/System/Capabilities.js"],"names":["logDepthBufferSupported","maxTexturesUnits","isLogDepthBufferSupported","isInternetExplorer","internetExplorer","document","documentMode","getMaxTextureUnitsCount","updateCapabilities","renderer","gl","context","getParameter","MAX_TEXTURE_IMAGE_UNITS","debugInfo","getExtension","vendor","UNMASKED_VENDOR_WEBGL","indexOf","Math","min","capabilities","logarithmicDepthBuffer"],"mappings":";;;;;AAAA;AACA,IAAIA,0BAA0B,KAA9B;AACA,IAAIC,mBAAmB,CAAvB;;kBAEe;AACXC,6BADW,uCACiB;AACxB,eAAOF,uBAAP;AACH,KAHU;AAIXG,sBAJW,gCAIU;AACjB,YAAMC,mBAAmB,SAAS,CAAC,CAACC,SAASC,YAA7C;AACA,eAAOF,gBAAP;AACH,KAPU;AAQXG,2BARW,qCAQe;AACtB,eAAON,gBAAP;AACH,KAVU;AAWXO,sBAXW,8BAWQC,QAXR,EAWkB;AACzB,YAAMC,KAAKD,SAASE,OAApB;AACAV,2BAAmBS,GAAGE,YAAH,CAAgBF,GAAGG,uBAAnB,CAAnB;;AAEA,YAAMC,YAAYJ,GAAGK,YAAH,CAAgB,2BAAhB,CAAlB;AACA,YAAID,cAAc,IAAlB,EAAwB;AACpB,gBAAME,SAASN,GAAGE,YAAH,CAAgBE,UAAUG,qBAA1B,CAAf;AACA,gBAAID,OAAOE,OAAP,CAAe,MAAf,IAAyB,CAAC,CAA1B,IAA+BF,OAAOE,OAAP,CAAe,MAAf,IAAyB,CAAC,CAA7D,EAAgE;AAC5DjB,mCAAmBkB,KAAKC,GAAL,CAAS,EAAT,EAAanB,gBAAb,CAAnB;AACH;AACJ,SALD,MAKO;AACHA,+BAAmBkB,KAAKC,GAAL,CAAS,EAAT,EAAanB,gBAAb,CAAnB;AACH;;AAEDD,kCAA0BS,SAASY,YAAT,CAAsBC,sBAAhD;AACH;AA1BU,C","file":"Capabilities.js","sourcesContent":["// default values\nlet logDepthBufferSupported = false;\nlet maxTexturesUnits = 8;\n\nexport default {\n    isLogDepthBufferSupported() {\n        return logDepthBufferSupported;\n    },\n    isInternetExplorer() {\n        const internetExplorer = false || !!document.documentMode;\n        return internetExplorer;\n    },\n    getMaxTextureUnitsCount() {\n        return maxTexturesUnits;\n    },\n    updateCapabilities(renderer) {\n        const gl = renderer.context;\n        maxTexturesUnits = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);\n\n        const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');\n        if (debugInfo !== null) {\n            const vendor = gl.getParameter(debugInfo.UNMASKED_VENDOR_WEBGL);\n            if (vendor.indexOf('mesa') > -1 || vendor.indexOf('Mesa') > -1) {\n                maxTexturesUnits = Math.min(16, maxTexturesUnits);\n            }\n        } else {\n            maxTexturesUnits = Math.min(16, maxTexturesUnits);\n        }\n\n        logDepthBufferSupported = renderer.capabilities.logarithmicDepthBuffer;\n    },\n};\n"]}